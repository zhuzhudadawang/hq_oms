# 工程数据分析模块

## 📊 模块概述

工程数据分析模块是订单管理系统的核心数据可视化模块，提供全面的工程数据分析和可视化功能。

## 🎯 功能模块

### 1. 样点成功率 (sample-success.vue)
- **功能**：分析样点制作的成功率
- **图表类型**：
  - 折线图：月度成功率趋势
  - 饼图：样点类型分布
  - 柱状图：各项目成功率对比
- **数据指标**：总样点数、成功数、成功率、平均周期

### 2. FIB人员产出 (fib-output.vue)
- **功能**：分析FIB部门人员的产出情况
- **图表类型**：
  - 折线图：人员月度产出趋势
  - 横向柱状图：人员产出排名
  - 饼图：产出分布情况
  - 雷达图：人员效率对比
- **数据指标**：总产出、日均产出、质量评分、效率

### 3. TEM人员产出 (tem-output.vue)
- **功能**：分析TEM部门人员的产出情况
- **图表类型**：
  - 折线图：人员月度产出趋势
  - 横向柱状图：人员产出排名
  - 饼图：样品类型分布
  - 散点图：质量与效率矩阵
- **数据指标**：总产出、日均产出、质量评分、效率

### 4. 人员平均饱和度 (saturation.vue)
- **功能**：分析人员工作饱和度情况
- **图表类型**：
  - 折线图：人员饱和度趋势
  - 饼图：饱和度分布
  - 柱状图：各部门饱和度对比
  - 热力图：人员饱和度热力图
- **数据指标**：平均饱和度、最高饱和度、最低饱和度、理想区间

### 5. 内部机台饱和度 (machine-saturation.vue)
- **功能**：监控内部机台的使用饱和度
- **图表类型**：
  - 仪表盘：实时饱和度监控
  - 饼图：机台状态分布
  - 柱状图：各机台饱和度对比
- **数据指标**：平均饱和度、运行机台数、高负荷机台、维护中机台

### 6. FIB内外部利用率 (fib-utilization.vue)
- **功能**：分析FIB机台内外部项目利用情况
- **图表类型**：
  - 饼图：内外部利用率对比
  - 折线图：月度利用率趋势
  - 堆叠柱状图：内外部项目时长对比
- **数据指标**：内部利用率、外部利用率、总利用率

### 7. TEM内外部利用率 (tem-utilization.vue)
- **功能**：分析TEM机台内外部项目利用情况
- **图表类型**：
  - 饼图：内外部利用率对比
  - 折线图：月度利用率趋势
  - 堆叠柱状图：内外部项目时长对比
- **数据指标**：内部利用率、外部利用率、总利用率

### 8. FIB人员完成率(月度) (fib-completion.vue)
- **功能**：分析FIB人员每月任务完成情况
- **图表类型**：
  - 折线图：月度完成率趋势
  - 柱状图：人员完成率对比
  - 饼图：完成率分布
- **数据指标**：目标任务数、完成任务数、完成率、按时完成率、质量评分

### 9. TEM人员完成率(月度) (tem-completion.vue)
- **功能**：分析TEM人员每月任务完成情况
- **图表类型**：
  - 折线图：月度完成率趋势
  - 柱状图：人员完成率对比
  - 饼图：完成率分布
- **数据指标**：目标任务数、完成任务数、完成率、按时完成率、质量评分

### 10. 市场数据分析 (`src/views/market`)
- **内容**：
  - `zhuhai-monthly.vue`：珠海订单统计（月度），关注年度对比与同比增速
  - `zhuhai-weekly.vue`：珠海订单统计（周度），关注周度分布与峰值监控
  - `zhuhai-order-sample.vue`：珠海订单 & 样点柱状对比，可筛选日期区间、默认近7日
  - `zhuhai-machine-utilization.vue`：珠海机台利用率统计，对比实际与目标利用率并突出高利用率机台
  - `shanghai-order-sample.vue`：上海订单 & 样点柱状对比，同步支持日期筛选
- **核心图表**：折线图（月度）、柱状图（周度）、双柱对比（订单 & 样点）、柱状+折线（机台利用率）
- **指标**：年度订单总量、同比增速、监控周数、周均订单、峰值周、样点/订单比、机台利用率达标率

## 🛠️ 技术实现

### 使用的技术栈
- **Vue 3**: 使用 Composition API
- **ECharts 5**: 数据可视化图表库
- **Element Plus**: UI 组件库

### 核心组件
```vue
<EChart :option="chartOption" height="400px" />
```

### EChart 公共组件 (src/components/EChart.vue)
- 封装了 ECharts 的初始化和响应式更新
- 支持自动 resize
- 支持动态更新配置

## 📁 文件结构

```
src/
├── components/
│   └── EChart.vue              # ECharts 公共组件
├── views/
│   └── analysis/               # 工程数据分析模块
│       ├── sample-success.vue      # 样点成功率
│       ├── fib-output.vue          # FIB人员产出
│       ├── tem-output.vue          # TEM人员产出
│       ├── saturation.vue          # 人员平均饱和度
│       ├── machine-saturation.vue  # 内部机台饱和度
│       ├── fib-utilization.vue     # FIB内外部利用率
│       ├── tem-utilization.vue     # TEM内外部利用率
│       ├── fib-completion.vue      # FIB人员完成率(月度)
│       └── tem-completion.vue      # TEM人员完成率(月度)
└── router/
    └── index.js                # 路由配置
```

## 🎨 图表类型说明

### 1. 折线图 (Line Chart)
- 用途：展示趋势变化
- 特点：平滑曲线、区域填充

### 2. 柱状图 (Bar Chart)
- 用途：数据对比
- 特点：支持堆叠、横向/纵向

### 3. 饼图 (Pie Chart)
- 用途：占比分析
- 特点：环形图、标签显示

### 4. 雷达图 (Radar Chart)
- 用途：多维度对比
- 特点：能力评估、综合对比

### 5. 散点图 (Scatter Chart)
- 用途：关系分析
- 特点：分布展示、趋势发现

### 6. 热力图 (Heatmap)
- 用途：密度分析
- 特点：颜色映射、直观展示

### 7. 仪表盘 (Gauge)
- 用途：实时监控
- 特点：直观显示、阈值提示

## 🔄 数据更新

所有页面都支持：
- 日期/月份/年份筛选
- 实时数据刷新
- 数据导出（部分页面）

## 🎯 后续开发建议

1. **接口集成**
   - 创建 `src/api/analysis.js` 统一管理API
   - 替换模拟数据为真实API调用

2. **权限控制**
   - 添加页面访问权限
   - 数据级别权限控制

3. **数据导出**
   - Excel 导出功能
   - PDF 报表生成

4. **实时更新**
   - WebSocket 实时数据推送
   - 定时刷新机制

5. **性能优化**
   - 图表懒加载
   - 数据分页加载
   - 缓存机制

## 📝 使用示例

```javascript
// API 调用示例
import { getSampleSuccessData } from '@/api/analysis'

const fetchData = async () => {
  try {
    const { data } = await getSampleSuccessData({
      startDate: dateRange.value[0],
      endDate: dateRange.value[1]
    })
    // 更新图表数据
    updateChartData(data)
  } catch (error) {
    console.error('获取数据失败', error)
  }
}
```

## 🌟 特色功能

- ✅ 多种图表类型组合
- ✅ 响应式布局设计
- ✅ 交互式数据筛选
- ✅ 实时数据更新
- ✅ 美观的UI设计
- ✅ 完整的数据指标

---

**版本**: 1.0.0  
**创建日期**: 2025-10-13  
**作者**: GitHub Copilot
